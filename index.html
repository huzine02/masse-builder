<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masse Builder v2.5</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 15px; color: #333;}
        .container {max-width: 900px; margin: 0 auto; background: white; border-radius: 20px; padding: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3);}
        h1 {text-align: center; color: #667eea; margin-bottom: 5px; font-size: 26px;}
        .version-badge {text-align: center; background: linear-gradient(135deg, #51cf66 0%, #37b24d 100%); color: white; padding: 4px 12px; border-radius: 20px; font-size: 11px; font-weight: bold; display: inline-block; margin-bottom: 10px;}
        .header-info {text-align: center; color: #666; margin-bottom: 15px; font-size: 13px;}
        .week-tracker {background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 15px; margin-bottom: 15px; text-align: center;}
        .week-display {font-size: 32px; font-weight: bold; margin: 10px 0;}
        .week-controls {display: flex; gap: 8px; justify-content: center; margin-top: 10px;}
        .session-timer {background: #fff3cd; border: 2px solid #ffc107; padding: 12px; border-radius: 10px; margin-bottom: 15px; text-align: center; font-weight: bold;}
        .session-timer-display {font-size: 24px; color: #667eea; margin: 5px 0; font-variant-numeric: tabular-nums;}
        .session-controls {display: flex; gap: 8px; justify-content: center; margin-top: 10px;}
        .photo-upload-section {background: #f8f9ff; border-radius: 15px; padding: 15px; margin: 10px 0;}
        .photo-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; margin-top: 10px;}
        .photo-item {position: relative; aspect-ratio: 3/4; background: #e0e0e0; border-radius: 8px; overflow: hidden; cursor: pointer; border: 3px dashed #667eea;}
        .photo-item.has-photo {border: 3px solid #51cf66;}
        .photo-item img {width: 100%; height: 100%; object-fit: cover;}
        .photo-placeholder {display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: #666; font-size: 12px; text-align: center; padding: 5px;}
        .photo-delete {position: absolute; top: 5px; right: 5px; background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 24px; height: 24px; cursor: pointer; font-size: 14px; display: none;}
        .photo-item:hover .photo-delete {display: block;}
        .photo-comparison {display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 15px;}
        .comparison-week {background: white; border-radius: 10px; padding: 10px; text-align: center;}
        .comparison-week h4 {color: #667eea; margin-bottom: 10px; font-size: 14px;}
        .comparison-photos {display: flex; gap: 5px; justify-content: center;}
        .comparison-photo {width: 60px; height: 80px; background: #f0f0f0; border-radius: 5px; overflow: hidden;}
        .comparison-photo img {width: 100%; height: 100%; object-fit: cover;}
        .auto-save-indicator {position: fixed; top: 20px; right: 20px; background: #51cf66; color: white; padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: bold; opacity: 0; transition: opacity 0.3s; z-index: 1000; box-shadow: 0 4px 12px rgba(0,0,0,0.2);}
        .auto-save-indicator.show {opacity: 1;}
        .tabs {display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 8px; margin-bottom: 20px;}
        .tab {padding: 12px 8px; background: #f0f0f0; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; transition: all 0.3s; font-size: 13px;}
        .tab.active {background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);}
        .tab-content {display: none;}
        .tab-content.active {display: block; animation: fadeIn 0.4s;}
        @keyframes fadeIn {from {opacity: 0; transform: translateY(10px);} to {opacity: 1; transform: translateY(0);}}
        .workout-section {background: #f8f9ff; border-radius: 15px; padding: 15px; margin-bottom: 15px; border-left: 5px solid #667eea;}
        .workout-section h3 {color: #667eea; margin-bottom: 12px; font-size: 18px;}
        .exercise {background: white; padding: 12px; margin: 10px 0; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); position: relative;}
        .progress-indicator {position: absolute; top: 10px; right: 10px; font-size: 20px;}
        .exercise-header {display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; gap: 10px;}
        .exercise-title {font-weight: bold; color: #333; font-size: 15px; flex: 1;}
        .demo-btn {padding: 6px 12px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 6px; font-size: 11px; font-weight: bold; cursor: pointer; white-space: nowrap; transition: transform 0.2s;}
        .demo-btn:active {transform: scale(0.95);}
        .last-week-data {background: #e8f5e9; border-left: 3px solid #51cf66; padding: 8px; margin: 8px 0; border-radius: 6px; font-size: 12px;}
        .suggested-weight {background: #fff9e6; border-left: 3px solid #ffc107; padding: 8px; margin: 8px 0; border-radius: 6px; font-size: 12px; font-weight: bold;}
        .exercise-visual {background: #f0f0f0; border-radius: 8px; padding: 10px; margin: 10px 0; font-size: 12px; line-height: 1.6; border-left: 3px solid #ffa500;}
        .exercise-details {display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 6px; margin: 8px 0; font-size: 12px;}
        .detail-item {background: #f0f0f0; padding: 5px 8px; border-radius: 6px;}
        .detail-label {font-weight: bold; color: #667eea;}
        .movement-diagram {background: white; border: 2px dashed #667eea; border-radius: 8px; padding: 8px; margin: 8px 0; font-size: 24px; text-align: center;}
        .sets-tracker {display: grid; grid-template-columns: repeat(auto-fit, minmax(70px, 1fr)); gap: 6px; margin-top: 10px;}
        .set-input label {font-size: 10px; font-weight: bold; color: #666; display: block; margin-bottom: 3px;}
        .set-input input {width: 100%; padding: 6px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 13px; text-align: center; transition: border-color 0.3s;}
        .set-input input:focus {outline: none; border-color: #667eea;}
        .set-input input.auto-saved {border-color: #51cf66; background: #f0fff4;}
        .timer {background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 15px; text-align: center; margin: 15px 0;}
        .timer-display {font-size: 42px; font-weight: bold; margin: 10px 0; font-variant-numeric: tabular-nums;}
        .timer-display.warning {color: #ffc107; animation: pulse 1s infinite;}
        @keyframes pulse {0%, 100% {transform: scale(1);} 50% {transform: scale(1.05);}}
        .timer-controls {display: flex; gap: 8px; justify-content: center; flex-wrap: wrap;}
        .btn {padding: 10px 16px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: all 0.3s; font-size: 13px;}
        .btn-primary {background: white; color: #667eea;}
        .btn-primary:hover {transform: scale(1.05);}
        .btn-secondary {background: rgba(255,255,255,0.2); color: white; border: 2px solid white;}
        .notification-setup {background: #fff3cd; border: 2px solid #ffc107; border-radius: 10px; padding: 12px; margin-bottom: 15px; font-size: 13px;}
        .notification-setup h3 {font-size: 16px; margin-bottom: 8px;}
        .alert {background: #ff6b6b; color: white; padding: 10px; border-radius: 8px; margin: 8px 0; font-size: 13px;}
        .success {background: #51cf66; color: white; padding: 10px; border-radius: 8px; margin: 8px 0; font-size: 13px;}
        .warning {background: #ffc107; color: #333; padding: 10px; border-radius: 8px; margin: 8px 0; font-size: 13px; font-weight: bold;}
        .notes-area {width: 100%; min-height: 80px; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; font-family: inherit; font-size: 13px; margin-top: 10px;}
        .warmup {background: #fff4e6; border-left-color: #ffa500;}
        .progress-item {display: flex; justify-content: space-between; align-items: center; padding: 10px; background: white; margin: 8px 0; border-radius: 8px; font-size: 13px;}
        .progress-item input {width: 80px; padding: 6px; border: 2px solid #e0e0e0; border-radius: 6px; text-align: center; font-size: 13px;}
        ul {margin-left: 20px; line-height: 1.6;}
        .modal {display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; justify-content: center; align-items: center;}
        .modal.show {display: flex;}
        .modal-content {background: white; padding: 30px; border-radius: 20px; max-width: 400px; text-align: center; animation: modalPop 0.3s;}
        @keyframes modalPop {from {transform: scale(0.8); opacity: 0;} to {transform: scale(1); opacity: 1;}}
        .modal-icon {font-size: 60px; margin-bottom: 15px;}
        .modal-title {font-size: 22px; font-weight: bold; color: #667eea; margin-bottom: 10px;}
        .modal-text {font-size: 15px; color: #666; margin-bottom: 20px; line-height: 1.5;}
        @media (max-width: 600px) {
            .container {padding: 12px;}
            h1 {font-size: 22px;}
            .timer-display {font-size: 36px;}
            .exercise-header {flex-direction: column; align-items: flex-start;}
            .demo-btn {width: 100%; margin-top: 5px;}
            .auto-save-indicator {top: 10px; right: 10px; font-size: 11px; padding: 6px 12px;}
        }
    </style>
</head>
<body>
    <div class="auto-save-indicator" id="auto-save-indicator">‚úÖ Sauvegard√©</div>
    <div class="container">
        <h1>üí™ MASSE BUILDER</h1>
        <div style="text-align: center;"><span class="version-badge">v2.5 ‚Ä¢ Photos ‚Ä¢ Export Coach ‚Ä¢ Notifications</span></div>
        <div class="header-info">8 semaines ‚Ä¢ 3 s√©ances/semaine</div>

        <div class="week-tracker">
            <div style="font-size: 14px; margin-bottom: 5px;">üìÖ PROGRESSION</div>
            <div class="week-display" id="week-display">SEMAINE 1 / 8</div>
            <div class="week-controls">
                <button class="btn btn-secondary" onclick="changeWeek(-1)">‚óÄÔ∏è S-1</button>
                <button class="btn btn-secondary" onclick="changeWeek(1)">S+1 ‚ñ∂Ô∏è</button>
                <button class="btn btn-primary" onclick="resetWeek()">Reset S1</button>
            </div>
        </div>

        <div class="session-timer" id="session-timer" style="display: none;">
            <div>‚è±Ô∏è DUR√âE S√âANCE</div>
            <div class="session-timer-display" id="session-timer-display">00:00</div>
            <div class="session-controls">
                <button class="btn btn-secondary" onclick="pauseSessionTimer()" id="pause-session-btn">‚è∏ Pause</button>
                <button class="btn btn-primary" onclick="endSession()">‚úÖ Terminer & Exporter</button>
            </div>
        </div>
        
        <div class="notification-setup">
            <h3>üîî Rappels Training</h3>
            <p style="margin: 8px 0;">Active les notifications pour tes rappels</p>
            <button class="btn btn-primary" onclick="setupNotifications()">‚úÖ Activer notifications</button>
            <div id="notif-status"></div>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('lundi')">üî¥ LUN</button>
            <button class="tab" onclick="showTab('mercredi')">üîµ MER</button>
            <button class="tab" onclick="showTab('vendredi')">üü¢ VEN</button>
            <button class="tab" onclick="showTab('progression')">üìà PROGR.</button>
        </div>
        
        <div class="timer">
            <div style="font-size: 13px; margin-bottom: 5px;">‚è±Ô∏è TIMER REPOS</div>
            <div class="timer-display" id="timer-display">00:00</div>
            <div class="timer-controls">
                <button class="btn btn-secondary" onclick="startTimer(60)">60s</button>
                <button class="btn btn-secondary" onclick="startTimer(90)">90s</button>
                <button class="btn btn-secondary" onclick="startTimer(120)">2min</button>
                <button class="btn btn-primary" onclick="stopTimer()">‚èπ Stop</button>
            </div>
        </div>
        
        <!-- LUNDI -->
        <div id="tab-lundi" class="tab-content active">
            <h2 style="color: #667eea; margin-bottom: 12px; font-size: 20px;">üî¥ LUNDI - POUSS√âE</h2>
            
            <div class="workout-section warmup">
                <h3>üî• √âCHAUFFEMENT (15 min)</h3>
                <ul>
                    <li>V√©lo 3 min (FC 120-130)</li>
                    <li>Foam roll thoracique 2 min</li>
                    <li>Band pull-aparts 2x20</li>
                    <li>Rotations externes c√¢ble 2x15</li>
                </ul>
            </div>
            
            <div class="workout-section">
                <h3>üí™ BLOC 1 - PECS SUP√âRIEURS</h3>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">1A. D√©velopp√© inclin√© halt√®res 30¬∞</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=8iPEnn-ltC8')">üìπ D√©mo</button>
                    </div>
                    <div class="last-week-data" id="lastweek-lun-incline">üíæ Semaine derni√®re: Chargement...</div>
                    <div class="suggested-weight" id="suggestion-lun-incline">üí° Suggestion: 32kg (S1 baseline)</div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x8</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 32kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 3-0-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 90s</div>
                        <div class="detail-item"><span class="detail-label">RPE:</span> 7-8</div>
                    </div>
                    <div class="exercise-visual"><strong>üìê POSITION:</strong> Banc 30¬∞ ‚Ä¢ Pieds au sol ‚Ä¢ Dos plaqu√© ‚Ä¢ Halt√®res niveau √©paules</div>
                    <div class="movement-diagram">‚¨áÔ∏è 3s lent ‚Üí üí• 2s mont√©e ‚Üí üí™ Squeeze</div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1 (kg√óreps)</label><input type="text" id="lun-1a-s1" placeholder="32√ó8" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="lun-1a-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="lun-1a-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="lun-1a-s4" oninput="autoSave()"></div>
                    </div>
                </div>

                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">1B. Rowing halt√®re 1 bras</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=roCP6wCXPqo')">üìπ D√©mo</button>
                    </div>
                    <div class="last-week-data" id="lastweek-lun-rowing">üíæ Semaine derni√®re: Chargement...</div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x10/bras</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 18kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 2-0-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 60s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1 (D/G)</label><input type="text" id="lun-1b-s1" placeholder="18√ó10/10" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="lun-1b-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="lun-1b-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="lun-1b-s4" oninput="autoSave()"></div>
                    </div>
                </div>
            </div>
            
            <div class="workout-section">
                <h3>üèîÔ∏è BLOC 2 - DELTO√èDES</h3>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">2A. D√©velopp√© Arnold</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=6Z15_WdXmVw')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x10</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 20kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 2-0-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 60s</div>
                    </div>
                    <div class="movement-diagram">üîÑ Paumes vers toi ‚Üí üîÑ Pivoter ‚Üí üôå Finir devant</div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="lun-2a-s1" placeholder="20√ó10" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="lun-2a-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="lun-2a-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="lun-2a-s4" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">2B. Face pull haute</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=rep-qVOkqgk')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x15</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> Pile 6</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-1</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="lun-2b-s1" placeholder="P6√ó15" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="lun-2b-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="lun-2b-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="lun-2b-s4" oninput="autoSave()"></div>
                    </div>
                </div>
            </div>
            
            <div class="workout-section">
                <h3>üí• BLOC 3 - DELTO√èDES & TRICEPS</h3>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">3A. √âl√©vations lat√©rales</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=3VcKaXpzqRo')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x12</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 10kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-3</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="exercise-visual"><strong>üîë ASTUCE:</strong> Rotation externe l√©g√®re ‚Ä¢ Descente LENTE 3s</div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="lun-3a-s1" placeholder="10√ó12" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="lun-3a-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="lun-3a-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="lun-3a-s4" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">3B. Oiseau poulie</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=tpvqJ2YZV_k')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x15</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> Pile 4</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="lun-3b-s1" placeholder="P4√ó15" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="lun-3b-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="lun-3b-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="lun-3b-s4" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">4A. Dips assist√©s</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=2z8JmcrW-As')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 3x10</div>
                        <div class="detail-item"><span class="detail-label">Assistance:</span> -30kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 2-0-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 60s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="lun-4a-s1" placeholder="-30√ó10" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="lun-4a-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="lun-4a-s3" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">4B. Extension triceps poulie</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=kiuVA0gs3EI')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 3x12</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> Pile 6</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="lun-4b-s1" placeholder="P6√ó12" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="lun-4b-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="lun-4b-s3" oninput="autoSave()"></div>
                    </div>
                </div>
            </div>
            
            <textarea class="notes-area" id="notes-lundi" placeholder="üìù Notes: √©nergie /10, douleurs..." oninput="autoSave()"></textarea>
        </div>
        
        <!-- MERCREDI -->
        <div id="tab-mercredi" class="tab-content">
            <h2 style="color: #667eea; margin-bottom: 12px; font-size: 20px;">üîµ MERCREDI - TRACTION</h2>
            
            <div class="workout-section warmup">
                <h3>üî• √âCHAUFFEMENT (13 min)</h3>
                <ul>
                    <li>Rameur 3 min</li>
                    <li>Dead hang 2x20s</li>
                    <li>Scapular pull-ups 3x8</li>
                </ul>
            </div>
            
            <div class="workout-section">
                <h3>üí™ BLOC 1 - LARGEUR</h3>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">1. Tractions assist√©es</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=eGo4IYlbE5g')">üìπ D√©mo</button>
                    </div>
                    <div class="last-week-data" id="lastweek-mer-tractions">üíæ Semaine derni√®re: Chargement...</div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 5x5</div>
                        <div class="detail-item"><span class="detail-label">Assistance:</span> Variable</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 3-0-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 120s</div>
                    </div>
                    <div class="movement-diagram">‚¨áÔ∏è 3s descente ‚Üí ‚¨ÜÔ∏è 2s coudes vers BAS</div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="mer-1-s1" placeholder="5" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="mer-1-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="mer-1-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="mer-1-s4" oninput="autoSave()"></div>
                        <div class="set-input"><label>S5</label><input type="text" id="mer-1-s5" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">2. Rowing barre</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=kBWAon7ItDw')">üìπ D√©mo</button>
                    </div>
                    <div class="last-week-data" id="lastweek-mer-rowing">üíæ Semaine derni√®re: Chargement...</div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x10</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 70kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 2-1-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 90s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="mer-2-s1" placeholder="70√ó10" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="mer-2-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="mer-2-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="mer-2-s4" oninput="autoSave()"></div>
                    </div>
                </div>
            </div>
            
            <div class="workout-section">
                <h3>üèîÔ∏è BLOC 2 - √âPAISSEUR</h3>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">3. Tirage horizontal poulie</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=GZbfZ033f74')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x10</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> Pile 8</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 60s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="mer-3-s1" placeholder="P8√ó10" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="mer-3-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="mer-3-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="mer-3-s4" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">4. Pull-over poulie</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=J_kUApWkpCs')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x12</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> Pile 6</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 60s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="mer-4-s1" placeholder="P6√ó12" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="mer-4-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="mer-4-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="mer-4-s4" oninput="autoSave()"></div>
                    </div>
                </div>
            </div>
            
            <div class="workout-section">
                <h3>üí• BLOC 3 - DELTO√èDES ARRI√àRE & BICEPS</h3>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">5. Face pull</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=rep-qVOkqgk')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x20</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> Pile 5</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-1</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="mer-5-s1" placeholder="P5√ó20" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="mer-5-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="mer-5-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="mer-5-s4" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">6. Rear delt fly machine</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=YyF6dMyRbS0')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x15</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> Pile 5</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="mer-6-s1" placeholder="P5√ó15" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="mer-6-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="mer-6-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="mer-6-s4" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">7. Shrugs halt√®res</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=g6qbq4Lf1FI')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 3x12</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 28kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-2-1</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="mer-7-s1" placeholder="28√ó12" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="mer-7-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="mer-7-s3" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">8. Curl halt√®res banc inclin√©</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=soxrZlIl35U')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 3x10</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 14kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 2-1-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="mer-8-s1" placeholder="14√ó10" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="mer-8-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="mer-8-s3" oninput="autoSave()"></div>
                    </div>
                </div>
            </div>
            
            <textarea class="notes-area" id="notes-mercredi" placeholder="üìù Notes s√©ance..." oninput="autoSave()"></textarea>
        </div>
        
        <!-- VENDREDI -->
        <div id="tab-vendredi" class="tab-content">
            <h2 style="color: #667eea; margin-bottom: 12px; font-size: 20px;">üü¢ VENDREDI - JAMBES</h2>
            
            <div class="workout-section warmup">
                <h3>üî• √âCHAUFFEMENT (17 min)</h3>
                <ul>
                    <li>V√©lo 4 min</li>
                    <li>Foam roll IT band + quads 3 min</li>
                    <li>90/90 hip transitions 2x8</li>
                    <li>Glute bridge 20 reps</li>
                </ul>
            </div>
            
            <div class="workout-section">
                <h3>üí™ BLOC 1 - CHA√éNE POST</h3>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">1. Romanian Deadlift</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=2SHsk9AzdjA')">üìπ D√©mo</button>
                    </div>
                    <div class="last-week-data" id="lastweek-ven-rdl">üíæ Semaine derni√®re: Chargement...</div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 5x8</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 70kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 3-0-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 120s</div>
                        <div class="detail-item"><span class="detail-label">RPE:</span> 7-8</div>
                    </div>
                    <div class="movement-diagram">‚¨áÔ∏è 3s stretch ischio ‚Üí üçë Squeeze fessiers ‚Üí ‚¨ÜÔ∏è 2s</div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="ven-1-s1" placeholder="70√ó8" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="ven-1-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="ven-1-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="ven-1-s4" oninput="autoSave()"></div>
                        <div class="set-input"><label>S5</label><input type="text" id="ven-1-s5" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">2. Hip thrust</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=xDmFkJxPzeM')">üìπ D√©mo</button>
                    </div>
                    <div class="last-week-data" id="lastweek-ven-hip">üíæ Semaine derni√®re: Chargement...</div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x12</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 80kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 90s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="ven-2-s1" placeholder="80√ó12" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="ven-2-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="ven-2-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="ven-2-s4" oninput="autoSave()"></div>
                    </div>
                </div>
            </div>
            
            <div class="workout-section">
                <h3>üèîÔ∏è BLOC 2 - QUADRICEPS</h3>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">3. Goblet squat</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=MeIiIdhvXT4')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x12</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 32kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 2-0-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 60s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="ven-3-s1" placeholder="32√ó12" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="ven-3-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="ven-3-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="ven-3-s4" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">4. Presse √† cuisses</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=IZxyjW7MPJQ')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x12</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 120kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 2-0-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 60s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="ven-4-s1" placeholder="120√ó12" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="ven-4-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="ven-4-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="ven-4-s4" oninput="autoSave()"></div>
                    </div>
                </div>
            </div>
            
            <div class="workout-section">
                <h3>üí• BLOC 3 - ISOLATION</h3>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">5. Fentes bulgares</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=2C-uNgKwPLE')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 3x8/jambe</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 18kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 2-0-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 60s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1 (D/G)</label><input type="text" id="ven-5-s1" placeholder="18√ó8/8" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="ven-5-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="ven-5-s3" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">6. Leg curl allong√©</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=ELOCsoDSmrg')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x12</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> Pile 6</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-1-2</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="ven-6-s1" placeholder="P6√ó12" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="ven-6-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="ven-6-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="ven-6-s4" oninput="autoSave()"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-header">
                        <div class="exercise-title">7. Mollets presse</div>
                        <button class="demo-btn" onclick="openDemo('https://www.youtube.com/watch?v=JbyjNymZOJo')">üìπ D√©mo</button>
                    </div>
                    <div class="exercise-details">
                        <div class="detail-item"><span class="detail-label">S√©ries:</span> 4x15</div>
                        <div class="detail-item"><span class="detail-label">Charge S1:</span> 80kg</div>
                        <div class="detail-item"><span class="detail-label">Tempo:</span> 1-2-1</div>
                        <div class="detail-item"><span class="detail-label">Repos:</span> 45s</div>
                    </div>
                    <div class="sets-tracker">
                        <div class="set-input"><label>S1</label><input type="text" id="ven-7-s1" placeholder="80√ó15" oninput="autoSave()"></div>
                        <div class="set-input"><label>S2</label><input type="text" id="ven-7-s2" oninput="autoSave()"></div>
                        <div class="set-input"><label>S3</label><input type="text" id="ven-7-s3" oninput="autoSave()"></div>
                        <div class="set-input"><label>S4</label><input type="text" id="ven-7-s4" oninput="autoSave()"></div>
                    </div>
                </div>
            </div>
            
            <textarea class="notes-area" id="notes-vendredi" placeholder="üìù Notes (genou ?)..." oninput="autoSave()"></textarea>
        </div>
        
        <!-- PROGRESSION -->
        <div id="tab-progression" class="tab-content">
            <h2 style="color: #667eea; margin-bottom: 12px; font-size: 20px;">üìà PROGRESSION</h2>
            
            <div class="workout-section">
                <h3>üì∏ SUIVI PHOTOS</h3>
                <div id="photo-reminder"></div>
                
                <div class="photo-upload-section">
                    <h4 style="color: #667eea; margin-bottom: 10px;">üì∑ Photos Semaine <span id="current-photo-week">1</span></h4>
                    <div class="photo-grid">
                        <div class="photo-item" onclick="uploadPhoto('face')">
                            <div class="photo-placeholder" id="placeholder-face"><div style="font-size: 30px;">üì∑</div><div>FACE</div></div>
                            <img id="photo-face" style="display: none;">
                            <button class="photo-delete" onclick="deletePhoto('face', event)">√ó</button>
                        </div>
                        <div class="photo-item" onclick="uploadPhoto('dos')">
                            <div class="photo-placeholder" id="placeholder-dos"><div style="font-size: 30px;">üì∑</div><div>DOS</div></div>
                            <img id="photo-dos" style="display: none;">
                            <button class="photo-delete" onclick="deletePhoto('dos', event)">√ó</button>
                        </div>
                        <div class="photo-item" onclick="uploadPhoto('profil')">
                            <div class="photo-placeholder" id="placeholder-profil"><div style="font-size: 30px;">üì∑</div><div>PROFIL</div></div>
                            <img id="photo-profil" style="display: none;">
                            <button class="photo-delete" onclick="deletePhoto('profil', event)">√ó</button>
                        </div>
                    </div>
                    <input type="file" id="photo-input" accept="image/*" capture="environment" style="display: none;" onchange="handlePhotoUpload()">
                </div>
                
                <div class="photo-upload-section" style="margin-top: 20px;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">üìä Comparaison Transformation</h4>
                    <div class="photo-comparison" id="photo-comparison">
                        <p style="color: #999; text-align: center;">Prends tes premi√®res photos pour voir ta progression !</p>
                    </div>
                </div>
            </div>
            
            <div class="workout-section">
                <h3>üìè Mesures</h3>
                <div class="progress-item"><span>Poids (kg)</span><input type="text" id="prog-poids" placeholder="93" oninput="saveProgressData()"></div>
                <div class="progress-item"><span>Tour taille (cm)</span><input type="text" id="prog-taille" placeholder="102" oninput="saveProgressData()"></div>
            </div>
            
            <div class="workout-section">
                <h3>üí™ Charges cl√©s</h3>
                <div class="progress-item"><span>Inclin√© HB (kg)</span><input type="text" id="prog-incline" placeholder="32" oninput="saveProgressData()"></div>
                <div class="progress-item"><span>Tractions (reps)</span><input type="text" id="prog-tractions" placeholder="5" oninput="saveProgressData()"></div>
                <div class="progress-item"><span>RDL (kg)</span><input type="text" id="prog-rdl" placeholder="70" oninput="saveProgressData()"></div>
            </div>
            
            <div class="workout-section">
                <h3>üìù Historique</h3>
                <div id="workout-history"><p style="color: #999;">Aucune s√©ance</p></div>
                <button class="btn btn-secondary" style="width: 100%; margin-top: 10px;" onclick="exportReport()">üìß Exporter rapport complet</button>
            </div>
        </div>
    </div>

    <div class="modal" id="progression-modal">
        <div class="modal-content">
            <div class="modal-icon" id="modal-icon">üéâ</div>
            <div class="modal-title" id="modal-title">Titre</div>
            <div class="modal-text" id="modal-text">Message</div>
            <button class="btn btn-primary" style="width: 100%;" onclick="closeModal()">OK !</button>
        </div>
    </div>

    <script>
let timerInterval=null,timeLeft=0,sessionTimerInterval=null,sessionSeconds=0,sessionPaused=false;let currentWeek=parseInt(localStorage.getItem('currentWeek')||'1'),autoSaveTimeout=null,currentPhotoType='';window.onload=function(){updateWeekDisplay();loadAllData();checkPhotoReminders();loadPhotos();updatePhotoComparison()};function updateWeekDisplay(){document.getElementById('week-display').textContent=`SEMAINE ${currentWeek} / 8`;localStorage.setItem('currentWeek',currentWeek);if(currentWeek===2||currentWeek===4||currentWeek===6||currentWeek===8){setTimeout(()=>showModal('üìä','Temps de mesurer !',`Fin de semaine ${currentWeek} : Prends tes mesures (poids, tour de taille, photos)`),1000)}loadPhotos();updatePhotoComparison()}function changeWeek(delta){const newWeek=currentWeek+delta;if(newWeek>=1&&newWeek<=8){currentWeek=newWeek;updateWeekDisplay();loadAllData();analyzeProgress();checkPhotoReminders()}}function resetWeek(){if(confirm('Remettre √† Semaine 1 ?')){currentWeek=1;updateWeekDisplay();loadAllData();checkPhotoReminders()}}function autoSave(){clearTimeout(autoSaveTimeout);autoSaveTimeout=setTimeout(()=>{const activeTab=document.querySelector('.tab-content.active').id.replace('tab-','');saveWorkoutData(activeTab);showAutoSaveIndicator()},500)}function showAutoSaveIndicator(){const indicator=document.getElementById('auto-save-indicator');indicator.classList.add('show');setTimeout(()=>indicator.classList.remove('show'),2000)}function saveWorkoutData(day){const data={date:new Date().toISOString().split('T')[0],week:currentWeek,day:day,exercises:{},notes:document.getElementById('notes-'+day)?.value||''};const inputs=document.querySelectorAll('#tab-'+day+' input[type="text"]');inputs.forEach(input=>{if(input.value){data.exercises[input.id]=input.value;input.classList.add('auto-saved');setTimeout(()=>input.classList.remove('auto-saved'),1000)}});localStorage.setItem(`workout-${day}-w${currentWeek}`,JSON.stringify(data));const history=JSON.parse(localStorage.getItem('workoutHistory')||'[]');const existingIndex=history.findIndex(w=>w.day===day&&w.week===currentWeek);if(existingIndex>=0)history[existingIndex]=data;else history.push(data);localStorage.setItem('workoutHistory',JSON.stringify(history))}function loadAllData(){['lundi','mercredi','vendredi'].forEach(day=>{loadWorkoutData(day);loadLastWeekData(day)});loadProgressData()}function loadWorkoutData(day){const saved=localStorage.getItem(`workout-${day}-w${currentWeek}`);if(!saved)return;const data=JSON.parse(saved);Object.keys(data.exercises).forEach(id=>{const input=document.getElementById(id);if(input)input.value=data.exercises[id]});const notesArea=document.getElementById('notes-'+day);if(notesArea&&data.notes)notesArea.value=data.notes}function loadLastWeekData(day){if(currentWeek===1)return;const lastWeek=currentWeek-1;const saved=localStorage.getItem(`workout-${day}-w${lastWeek}`);const exerciseMap={'lundi':[{id:'lun-incline',display:'lastweek-lun-incline',keys:['lun-1a-s1','lun-1a-s2','lun-1a-s3','lun-1a-s4']},{id:'lun-rowing',display:'lastweek-lun-rowing',keys:['lun-1b-s1','lun-1b-s2']}],'mercredi':[{id:'mer-tractions',display:'lastweek-mer-tractions',keys:['mer-1-s1','mer-1-s2','mer-1-s3','mer-1-s4','mer-1-s5']},{id:'mer-rowing',display:'lastweek-mer-rowing',keys:['mer-2-s1','mer-2-s2']}],'vendredi':[{id:'ven-rdl',display:'lastweek-ven-rdl',keys:['ven-1-s1','ven-1-s2']},{id:'ven-hip',display:'lastweek-ven-hip',keys:['ven-2-s1','ven-2-s2']}]};if(!saved){(exerciseMap[day]||[]).forEach(ex=>{const elem=document.getElementById(ex.display);if(elem)elem.textContent='üíæ Pas de donn√©es semaine pr√©c√©dente'});return}const data=JSON.parse(saved);(exerciseMap[day]||[]).forEach(ex=>{const values=ex.keys.map(k=>data.exercises[k]).filter(v=>v);if(values.length>0){const elem=document.getElementById(ex.display);if(elem)elem.textContent=`üíæ S${lastWeek}: ${values.join(', ')}`;generateSuggestion(ex.id,values)}})}function generateSuggestion(exerciseId,lastWeekValues){const suggestionElem=document.getElementById('suggestion-'+exerciseId);if(!suggestionElem)return;const lastSet=lastWeekValues[lastWeekValues.length-1];const match=lastSet?.match(/(\d+)√ó(\d+)/);if(!match)return;const weight=parseInt(match[1]),reps=parseInt(match[2]);if(reps>=8){suggestionElem.innerHTML=`üí° Suggestion: <strong>${weight+2.5}kg</strong> (derni√®re s√©rie ${reps} reps facile ‚Üí +2,5kg !)`;suggestionElem.style.background='#e8f5e9';suggestionElem.style.borderColor='#51cf66'}else{suggestionElem.innerHTML=`üí° Suggestion: <strong>${weight}kg</strong> (m√™me charge, vise 8 reps s√©rie 4)`}}function analyzeProgress(){const exercises=['lun-incline','mer-tractions','ven-rdl'];exercises.forEach(id=>{const elem=document.getElementById('progress-'+id);if(!elem)return;const currentData=localStorage.getItem(`workout-${id.split('-')[0]}-w${currentWeek}`);const lastData=localStorage.getItem(`workout-${id.split('-')[0]}-w${currentWeek-1}`);if(!currentData||!lastData){elem.textContent='‚ö™';return}elem.textContent='üü¢'})}function loadProgressData(){const measures=localStorage.getItem('currentMeasures');if(measures){const data=JSON.parse(measures);['poids','taille'].forEach(key=>{const elem=document.getElementById('prog-'+key);if(elem&&data[key])elem.value=data[key]})}const progress=localStorage.getItem('currentProgress');if(progress){const data=JSON.parse(progress);['incline','tractions','rdl'].forEach(key=>{const elem=document.getElementById('prog-'+key);if(elem&&data[key])elem.value=data[key]})}}function saveProgressData(){const measures={poids:document.getElementById('prog-poids')?.value||'',taille:document.getElementById('prog-taille')?.value||''};localStorage.setItem('currentMeasures',JSON.stringify(measures));const progress={incline:document.getElementById('prog-incline')?.value||'',tractions:document.getElementById('prog-tractions')?.value||'',rdl:document.getElementById('prog-rdl')?.value||''};localStorage.setItem('currentProgress',JSON.stringify(progress));showAutoSaveIndicator()}function showTab(tabName){document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));document.getElementById('tab-'+tabName).classList.add('active');event.target.classList.add('active');if(['lundi','mercredi','vendredi'].includes(tabName)){startSessionTimer();loadWorkoutData(tabName);loadLastWeekData(tabName)}else stopSessionTimer();if(tabName==='progression')loadHistory()}function startTimer(seconds){stopTimer();timeLeft=seconds;updateTimerDisplay();timerInterval=setInterval(()=>{timeLeft--;updateTimerDisplay();if(timeLeft===10)document.getElementById('timer-display').classList.add('warning');if(timeLeft<=0){stopTimer();playLoudBeep();if('vibrate'in navigator)navigator.vibrate([500,200,500]);if(Notification.permission==='granted')new Notification('‚è∞ Repos termin√© !',{body:'Go next s√©rie ! üí™',icon:'‚è∞',requireInteraction:false});showModal('‚è∞','Repos termin√© !','Go next s√©rie ! üí™')}},1000)}function stopTimer(){if(timerInterval){clearInterval(timerInterval);timerInterval=null}timeLeft=0;updateTimerDisplay();document.getElementById('timer-display').classList.remove('warning')}function updateTimerDisplay(){const minutes=Math.floor(timeLeft/60),seconds=timeLeft%60;document.getElementById('timer-display').textContent=`${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`}function playLoudBeep(){const context=new(window.AudioContext||window.webkitAudioContext)();for(let i=0;i<3;i++){setTimeout(()=>{const oscillator=context.createOscillator(),gainNode=context.createGain();oscillator.connect(gainNode);gainNode.connect(context.destination);oscillator.frequency.value=800;oscillator.type='square';gainNode.gain.setValueAtTime(0.5,context.currentTime);oscillator.start(context.currentTime);oscillator.stop(context.currentTime+0.3)},i*400)}}function startSessionTimer(){if(!sessionPaused){stopSessionTimer();sessionSeconds=0}sessionPaused=false;document.getElementById('session-timer').style.display='block';document.getElementById('pause-session-btn').textContent='‚è∏ Pause';updateSessionTimerDisplay();sessionTimerInterval=setInterval(()=>{sessionSeconds++;updateSessionTimerDisplay();if(sessionSeconds===2700){showModal('‚ö†Ô∏è','45 minutes !','Acc√©l√®re le rythme pour finir en 75 min max');if(Notification.permission==='granted')new Notification('‚ö†Ô∏è 45 minutes √©coul√©es',{body:'Acc√©l√®re le rythme pour finir en 75 min max',icon:'‚ö†Ô∏è'})}if(sessionSeconds===4500){showModal('üî•','75 minutes !','S√©ance longue ! Pense √† terminer dans 5-10 min');if(Notification.permission==='granted')new Notification('üî• 75 minutes !',{body:'S√©ance longue ! Termine rapidement',icon:'üî•'})}},1000)}function pauseSessionTimer(){if(sessionTimerInterval){clearInterval(sessionTimerInterval);sessionTimerInterval=null;sessionPaused=true;document.getElementById('pause-session-btn').textContent='‚ñ∂Ô∏è Reprendre'}else if(sessionPaused)startSessionTimer()}function stopSessionTimer(){if(sessionTimerInterval){clearInterval(sessionTimerInterval);sessionTimerInterval=null}document.getElementById('session-timer').style.display='none';sessionSeconds=0;sessionPaused=false}function updateSessionTimerDisplay(){const minutes=Math.floor(sessionSeconds/60),seconds=sessionSeconds%60;document.getElementById('session-timer-display').textContent=`${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')} / 75 min`}function endSession(){const activeTab=document.querySelector('.tab-content.active').id.replace('tab-','');if(!['lundi','mercredi','vendredi'].includes(activeTab))return;const duration=Math.floor(sessionSeconds/60),report=generateSessionReport(activeTab,duration);navigator.clipboard.writeText(report).then(()=>{showModal('‚úÖ','S√©ance termin√©e !',`Dur√©e: ${duration} min\n\nRapport copi√© ! Envoie-le √† ton coach.`);stopSessionTimer()})}function generateSessionReport(day,duration){const data=JSON.parse(localStorage.getItem(`workout-${day}-w${currentWeek}`)||'{}');const dayNames={lundi:'LUNDI',mercredi:'MERCREDI',vendredi:'VENDREDI'};let report=`üèãÔ∏è S√âANCE ${dayNames[day]} - SEMAINE ${currentWeek}\nüìÖ Date: ${new Date().toLocaleDateString('fr-FR')}\n‚è±Ô∏è Dur√©e: ${duration} minutes\n\nüìä EXERCICES R√âALIS√âS:\n`;const exercises=Object.entries(data.exercises||{});if(exercises.length===0)report+=`(Aucune donn√©e enregistr√©e)\n\n`;else exercises.forEach(([key,value])=>{const cleanKey=key.replace(/lun-|mer-|ven-/g,'').toUpperCase();report+=`  ${cleanKey}: ${value}\n`});report+=`\nüìù NOTES:\n${data.notes||'(Aucune note)'}\n\nüí™ SENSATIONS:\n- √ânergie: __/10\n- Congestion: __/10\n- Douleurs: __/10\n\nüéØ PROCHAIN OBJECTIF:\n- (√Ä compl√©ter avec coach)\n`;return report}function checkPhotoReminders(){const photoWeeks=[0,4,8],reminderDiv=document.getElementById('photo-reminder'),currentPhotoWeekSpan=document.getElementById('current-photo-week');if(!reminderDiv)return;if(currentPhotoWeekSpan)currentPhotoWeekSpan.textContent=currentWeek;if(photoWeeks.includes(currentWeek)){const message=currentWeek===0?'AVANT (face/dos/profil)':currentWeek===4?'MI-PARCOURS - Compare avec S0 !':'FINALES - Transformation compl√®te !';reminderDiv.innerHTML=`<div class="warning">üì∏ S${currentWeek} : Prends tes photos ${message}</div>`}else reminderDiv.innerHTML=`<div class="success">‚úÖ Prochaines photos: Semaine ${photoWeeks.find(w=>w>currentWeek)||8}</div>`}function uploadPhoto(type){currentPhotoType=type;document.getElementById('photo-input').click()}function handlePhotoUpload(){const file=document.getElementById('photo-input').files[0];if(!file)return;const reader=new FileReader();reader.onload=function(e){const img=new Image();img.onload=function(){const canvas=document.createElement('canvas'),maxSize=800;let width=img.width,height=img.height;if(width>height){if(width>maxSize){height*=maxSize/width;width=maxSize}}else{if(height>maxSize){width*=maxSize/height;height=maxSize}}canvas.width=width;canvas.height=height;const ctx=canvas.getContext('2d');ctx.drawImage(img,0,0,width,height);const compressedData=canvas.toDataURL('image/jpeg',0.7);savePhoto(currentPhotoType,compressedData)};img.src=e.target.result};reader.readAsDataURL(file)}function savePhoto(type,dataUrl){const key=`photo-w${currentWeek}-${type}`;localStorage.setItem(key,dataUrl);const imgElement=document.getElementById(`photo-${type}`),placeholder=document.getElementById(`placeholder-${type}`),photoItem=imgElement.parentElement;imgElement.src=dataUrl;imgElement.style.display='block';placeholder.style.display='none';photoItem.classList.add('has-photo');showAutoSaveIndicator();updatePhotoComparison()}function deletePhoto(type,event){event.stopPropagation();if(!confirm('Supprimer cette photo ?'))return;const key=`photo-w${currentWeek}-${type}`;localStorage.removeItem(key);const imgElement=document.getElementById(`photo-${type}`),placeholder=document.getElementById(`placeholder-${type}`),photoItem=imgElement.parentElement;imgElement.style.display='none';placeholder.style.display='flex';photoItem.classList.remove('has-photo');updatePhotoComparison()}function loadPhotos(){['face','dos','profil'].forEach(type=>{const key=`photo-w${currentWeek}-${type}`,dataUrl=localStorage.getItem(key);const imgElement=document.getElementById(`photo-${type}`),placeholder=document.getElementById(`placeholder-${type}`),photoItem=imgElement.parentElement;if(dataUrl){imgElement.src=dataUrl;imgElement.style.display='block';placeholder.style.display='none';photoItem.classList.add('has-photo')}else{imgElement.style.display='none';placeholder.style.display='flex';photoItem.classList.remove('has-photo')}})}function updatePhotoComparison(){const comparisonDiv=document.getElementById('photo-comparison');if(!comparisonDiv)return;const weeks=[0,1,4,8];const hasAnyPhotos=weeks.some(w=>localStorage.getItem(`photo-w${w}-face`)||localStorage.getItem(`photo-w${w}-dos`)||localStorage.getItem(`photo-w${w}-profil`));if(!hasAnyPhotos){comparisonDiv.innerHTML='<p style="color: #999; text-align: center;">Prends tes premi√®res photos pour voir ta progression !</p>';return}let html='';weeks.forEach(week=>{const hasFace=localStorage.getItem(`photo-w${week}-face`),hasDos=localStorage.getItem(`photo-w${week}-dos`),hasProfil=localStorage.getItem(`photo-w${week}-profil`);if(hasFace||hasDos||hasProfil){html+=`<div class="comparison-week"><h4>S${week}</h4><div class="comparison-photos">`;['face','dos','profil'].forEach(type=>{const photoKey=`photo-w${week}-${type}`,photoData=localStorage.getItem(photoKey);if(photoData)html+=`<div class="comparison-photo"><img src="${photoData}"></div>`;else html+=`<div class="comparison-photo" style="background: #e0e0e0;"></div>`});html+=`</div></div>`}});comparisonDiv.innerHTML=html}function exportReport(){const history=JSON.parse(localStorage.getItem('workoutHistory')||'[]'),measures=JSON.parse(localStorage.getItem('currentMeasures')||'{}');let report=`üìä BILAN PROGRAMME MASSE BUILDER\nüìÖ Date: ${new Date().toLocaleDateString('fr-FR')}\nüóìÔ∏è Semaine actuelle: ${currentWeek}/8\n\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nüìè MESURES ACTUELLES\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nPoids: ${measures.poids||'?'} kg\nTour taille: ${measures.taille||'?'} cm\n\n`;if(history.length>0){report+=`‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nüèãÔ∏è HISTORIQUE S√âANCES (${history.length} total)\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;const recent=history.slice(-6).reverse();recent.forEach((w,i)=>{report+=`\n${i+1}. ${w.day.toUpperCase()} S${w.week} - ${w.date}\n`;const exercises=Object.entries(w.exercises).slice(0,6);exercises.forEach(([key,val])=>report+=`   ${key}: ${val}\n`);if(w.notes)report+=`   üìù ${w.notes.substring(0,80)}\n`})}report+=`\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nüí° POUR LE COACH\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nPoints √† discuter:\n- Progression charges: ___\n- Niveau fatigue: ___/10\n- Douleurs/inconforts: ___\n- Objectif prochain cycle: ___\n\n`;navigator.clipboard.writeText(report);showModal('üìã','Rapport copi√© !','Le rapport complet est dans ton presse-papiers. Colle-le dans un email ou WhatsApp pour ton coach.')}function loadHistory(){const history=JSON.parse(localStorage.getItem('workoutHistory')||'[]'),historyDiv=document.getElementById('workout-history');if(history.length===0){historyDiv.innerHTML='<p style="color: #999;">Aucune s√©ance</p>';return}const recent=history.slice(-10).reverse();let html='';recent.forEach(workout=>{html+=`<div style="background: white; padding: 10px; margin: 8px 0; border-radius: 8px;"><strong>${workout.day.toUpperCase()}</strong> S${workout.week} - ${workout.date}${workout.notes?'<br><small>'+workout.notes.substring(0,50)+'...</small>':''}</div>`});historyDiv.innerHTML=html}function showModal(icon,title,text){document.getElementById('modal-icon').textContent=icon;document.getElementById('modal-title').textContent=title;document.getElementById('modal-text').textContent=text;document.getElementById('progression-modal').classList.add('show')}function closeModal(){document.getElementById('progression-modal').classList.remove('show')}function setupNotifications(){if(!('Notification'in window)){document.getElementById('notif-status').innerHTML='<div class="alert">‚ùå Non support√©</div>';return}if(Notification.permission==='granted'){document.getElementById('notif-status').innerHTML='<div class="success">‚úÖ D√©j√† activ√©es !</div>';return}Notification.requestPermission().then(permission=>{if(permission==='granted'){document.getElementById('notif-status').innerHTML='<div class="success">‚úÖ Notifications activ√©es !</div>';new Notification('üí™ Masse Builder v2.5',{body:'Notifications activ√©es !'})}else document.getElementById('notif-status').innerHTML='<div class="alert">‚ùå Refus√©es</div>'})}function openDemo(url){window.open(url,'_blank')}
    </script>
</body>
</html>
